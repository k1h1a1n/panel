<div class="images-container">
  <header class="listing-header">
    <button class="back" (click)="backToList()">← Back</button>
    <h2>{{ title }}</h2>
  </header>

  <!-- Image Grid -->
  <div class="images-grid">
    <div *ngFor="let image of paginatedImages" class="image-card" (click)="openEditor(image)">
      <img [src]="getImageSrc(image)" [alt]="getImageId(image)" class="image" />
      <div class="image-info">
        <p class="image-id" *ngIf="getImageId(image)">{{ getImageId(image) }}</p>
        <p class="image-no" *ngIf="getImageLang(image)">{{ getImageLang(image) }}</p>
      </div>
    </div>
  </div>

  <div *ngIf="paginatedImages.length === 0" class="empty">No images to display</div>

  <!-- Greeting Image Editor modal -->
  <app-greeting-image-editor *ngIf="selectedImage"
    [image]="selectedImage"
    (closed)="onEditorClosed()"
    (updated)="onEditorUpdated($event)"
    (deleted)="onEditorDeleted($event)">
  </app-greeting-image-editor>

  <!-- Sticky Paginator -->
  <div class="paginator-sticky">
    <button 
      class="page-btn prev-btn" 
      [disabled]="currentPage() === 1"
      (click)="goToPage(currentPage() - 1)">
      ← Previous
    </button>

    <div class="page-numbers">
      <button 
        *ngFor="let page of pageRange"
        class="page-btn"
        [class.active]="page === currentPage()"
        (click)="goToPage(page)">
        {{ page }}
      </button>
    </div>

    <button 
      class="page-btn next-btn" 
      [disabled]="currentPage() === totalPages"
      (click)="goToPage(currentPage() + 1)">
      Next →
    </button>

    <span class="page-info">Page {{ currentPage() }} of {{ totalPages }}</span>
  </div>
</div>
